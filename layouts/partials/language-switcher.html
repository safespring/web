{{ $currentLang := .Site.Language.Lang }} {{ range .Site.Languages }} {{ if eq .Lang $currentLang }}
<span title="{{ .LanguageName }}" style="display: flex; align-items: center">
  <img
    src="/img/flags/{{ .Lang }}.svg"
    alt="Safespring {{ .LanguageName }}"
    style="filter: opacity(0.5); transform: scale(1)"
  />
</span>
{{ end }} {{ if ne .Lang $currentLang }} {{ $targetPath := "" }} {{ if eq .Lang "en" }} {{
$targetPath = strings.TrimPrefix (print "/" $currentLang) $.RelPermalink }} {{ else }} {{
$targetPath = delimit (slice "/" .Lang (strings.TrimPrefix (print "/" $currentLang) $.RelPermalink))
"" }} {{ end }}
<a href="{{ $targetPath }}" title="{{ .LanguageName }}">
  <img src="/img/flags/{{ .Lang }}.svg" alt="Safespring {{ .LanguageName }}" />
</a>
{{ end }} {{ end }}
